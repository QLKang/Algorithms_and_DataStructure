package com.test2.kql;

/*
 * 9.3 A magic index in an array A[l.. .n-l] is defined to be an index 
 * such that A[i] = i. Given a sorted array of distinct integers, 
 * write a method to find a magic index, if one exists, in array A.
 * 
 * FOLLOW UP
 * What if the values are not distinct?
 * 
 */
public class MagicIndexFollowUp {
	int getMagicIndex(int[] arr, int l, int r) {
		if (arr == null || arr.length == 0) {
			return -1;
		}

		if (l <= r) {
			int mid = (l + r) / 2;
			if (arr[mid] == mid) {
				return mid;
			} else if (arr[mid] > mid) {
				int id = getMagicIndex(arr, l, mid - 1);
				if (id == -1) {
					return getMagicIndex(arr, mid + 1, r);
				} else
					return id;
			} else if (arr[mid] < mid) {
				int id = getMagicIndex(arr, mid + 1, r);
				if (id == -1) {
					return getMagicIndex(arr, l, mid - 1);
				} else {
					return id;
				}
			}
		}
		return -1;
	}

	int getMagicIndex(int[] arr) {
		int l = 0;
		int r = arr.length - 1;
		return getMagicIndex(arr, l, r);
	}

	public static void main(String[] args) {
		MagicIndexFollowUp mi = new MagicIndexFollowUp();
		int[] Ndistinct = {-10, -5, 2, 2, 2, 3, 4, 7, 9,12, 13};
		int id = mi.getMagicIndex(Ndistinct);
		System.out.println(id);
		
	}
}
