package com.test2.kql;

/*11.2 Write a method to sort an array of strings so that all the anagrams are next to each other.
 * String[] array = { "acre", "mary", "race", "arce", "pen", "care", "peek", "army", "keep" };
 *
 *
 *
 */
import java.util.Arrays;
import java.util.Hashtable;
import java.util.LinkedList;

public class Sort {

	String[] sort(String[] strings) {
		Hashtable<String, LinkedList<String>> hash = new Hashtable<String, LinkedList<String>>();
		if (strings == null || strings.length == 0)
			return null;
		/* Group words by anagram */
		for (String s : strings) {
			String key = sortChars(s);
			if (!hash.containsKey(key)) {
				hash.put(key, new LinkedList<String>());
			}
			LinkedList<String> anagrams = hash.get(key);
			anagrams.add(s);
		}

		/* Convert hash table to array */
		int index = 0;
		for (String key : hash.keySet()) {
			LinkedList<String> list = hash.get(key);
			for (String s : list) {
				strings[index] = s;
				index++;
			}
		}
		return strings;
	}

	String sortChars(String s) {
		char[] array = s.toCharArray();
		Arrays.sort(array);
		String string = new String(array);
		return string;
	}

	public static void main(String[] args) {
		Sort st = new Sort();
		String[] strings = { "acre", "live", "race", "arce", "pen", "care",
				"peek", "keep" };
		String[] newstrings = st.sort(strings);
		for (String s : newstrings) {
			System.out.println(s);
		}
	}
}
